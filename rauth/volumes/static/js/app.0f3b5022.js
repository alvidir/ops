(function(e){function t(t){for(var n,i,a=t[0],u=t[1],l=t[2],p=0,d=[];p<a.length;p++)i=a[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var u=r[a];0!==o[u]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var c=u;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},1771:function(e,t,r){var n={"./logo.theme-dark.png":"c652","./logo.theme-light.png":"97fe"};function o(e){var t=s(e);return r(t)}function s(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="1771"},"373b":function(e,t,r){},"3a80":function(e,t,r){"use strict";r("e2e7")},"529f":function(e,t,r){"use strict";r("6e42")},"6e42":function(e,t,r){},7140:function(e,t,r){},"97fe":function(e,t,r){e.exports=r.p+"img/logo.theme-light.2c02ddb9.png"},"9cc6":function(e,t,r){var n=r("8513"),o=n,s=Function("return this")();o.exportSymbol("proto.session.Empty",null,s),o.exportSymbol("proto.session.LoginRequest",null,s),proto.session.LoginRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.session.LoginRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.session.LoginRequest.displayName="proto.session.LoginRequest"),proto.session.Empty=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.session.Empty,n.Message),o.DEBUG&&!COMPILED&&(proto.session.Empty.displayName="proto.session.Empty"),n.Message.GENERATE_TO_OBJECT&&(proto.session.LoginRequest.prototype.toObject=function(e){return proto.session.LoginRequest.toObject(e,this)},proto.session.LoginRequest.toObject=function(e,t){var r={ident:n.Message.getFieldWithDefault(t,1,""),pwd:n.Message.getFieldWithDefault(t,2,""),totp:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.session.LoginRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.session.LoginRequest;return proto.session.LoginRequest.deserializeBinaryFromReader(r,t)},proto.session.LoginRequest.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var n=t.readString();e.setIdent(n);break;case 2:n=t.readString();e.setPwd(n);break;case 3:n=t.readString();e.setTotp(n);break;default:t.skipField();break}}return e},proto.session.LoginRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.session.LoginRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.session.LoginRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getIdent(),r.length>0&&t.writeString(1,r),r=e.getPwd(),r.length>0&&t.writeString(2,r),r=e.getTotp(),r.length>0&&t.writeString(3,r)},proto.session.LoginRequest.prototype.getIdent=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.session.LoginRequest.prototype.setIdent=function(e){return n.Message.setProto3StringField(this,1,e)},proto.session.LoginRequest.prototype.getPwd=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.session.LoginRequest.prototype.setPwd=function(e){return n.Message.setProto3StringField(this,2,e)},proto.session.LoginRequest.prototype.getTotp=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.session.LoginRequest.prototype.setTotp=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.session.Empty.prototype.toObject=function(e){return proto.session.Empty.toObject(e,this)},proto.session.Empty.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.session.Empty.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.session.Empty;return proto.session.Empty.deserializeBinaryFromReader(r,t)},proto.session.Empty.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){default:t.skipField();break}}return e},proto.session.Empty.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.session.Empty.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.session.Empty.serializeBinaryToWriter=function(e,t){},o.object.extend(t,proto.session)},"9dcf":function(e,t,r){"use strict";r("7140")},a8a1:function(e,t,r){var n=r("8513"),o=n,s=Function("return this")();o.exportSymbol("proto.user.DeleteRequest",null,s),o.exportSymbol("proto.user.Empty",null,s),o.exportSymbol("proto.user.ResetRequest",null,s),o.exportSymbol("proto.user.SignupRequest",null,s),o.exportSymbol("proto.user.TotpRequest",null,s),o.exportSymbol("proto.user.TotpRequest.actions",null,s),proto.user.SignupRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.user.SignupRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.user.SignupRequest.displayName="proto.user.SignupRequest"),proto.user.ResetRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.user.ResetRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.user.ResetRequest.displayName="proto.user.ResetRequest"),proto.user.DeleteRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.user.DeleteRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.user.DeleteRequest.displayName="proto.user.DeleteRequest"),proto.user.TotpRequest=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.user.TotpRequest,n.Message),o.DEBUG&&!COMPILED&&(proto.user.TotpRequest.displayName="proto.user.TotpRequest"),proto.user.Empty=function(e){n.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.user.Empty,n.Message),o.DEBUG&&!COMPILED&&(proto.user.Empty.displayName="proto.user.Empty"),n.Message.GENERATE_TO_OBJECT&&(proto.user.SignupRequest.prototype.toObject=function(e){return proto.user.SignupRequest.toObject(e,this)},proto.user.SignupRequest.toObject=function(e,t){var r={email:n.Message.getFieldWithDefault(t,1,""),pwd:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.user.SignupRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.user.SignupRequest;return proto.user.SignupRequest.deserializeBinaryFromReader(r,t)},proto.user.SignupRequest.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var n=t.readString();e.setEmail(n);break;case 2:n=t.readString();e.setPwd(n);break;default:t.skipField();break}}return e},proto.user.SignupRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.user.SignupRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.user.SignupRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getEmail(),r.length>0&&t.writeString(1,r),r=e.getPwd(),r.length>0&&t.writeString(2,r)},proto.user.SignupRequest.prototype.getEmail=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.user.SignupRequest.prototype.setEmail=function(e){return n.Message.setProto3StringField(this,1,e)},proto.user.SignupRequest.prototype.getPwd=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.user.SignupRequest.prototype.setPwd=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.user.ResetRequest.prototype.toObject=function(e){return proto.user.ResetRequest.toObject(e,this)},proto.user.ResetRequest.toObject=function(e,t){var r={email:n.Message.getFieldWithDefault(t,1,""),pwd:n.Message.getFieldWithDefault(t,2,""),totp:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.user.ResetRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.user.ResetRequest;return proto.user.ResetRequest.deserializeBinaryFromReader(r,t)},proto.user.ResetRequest.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var n=t.readString();e.setEmail(n);break;case 2:n=t.readString();e.setPwd(n);break;case 3:n=t.readString();e.setTotp(n);break;default:t.skipField();break}}return e},proto.user.ResetRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.user.ResetRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.user.ResetRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getEmail(),r.length>0&&t.writeString(1,r),r=e.getPwd(),r.length>0&&t.writeString(2,r),r=e.getTotp(),r.length>0&&t.writeString(3,r)},proto.user.ResetRequest.prototype.getEmail=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.user.ResetRequest.prototype.setEmail=function(e){return n.Message.setProto3StringField(this,1,e)},proto.user.ResetRequest.prototype.getPwd=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.user.ResetRequest.prototype.setPwd=function(e){return n.Message.setProto3StringField(this,2,e)},proto.user.ResetRequest.prototype.getTotp=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.user.ResetRequest.prototype.setTotp=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.user.DeleteRequest.prototype.toObject=function(e){return proto.user.DeleteRequest.toObject(e,this)},proto.user.DeleteRequest.toObject=function(e,t){var r={pwd:n.Message.getFieldWithDefault(t,1,""),totp:n.Message.getFieldWithDefault(t,2,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.user.DeleteRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.user.DeleteRequest;return proto.user.DeleteRequest.deserializeBinaryFromReader(r,t)},proto.user.DeleteRequest.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var n=t.readString();e.setPwd(n);break;case 2:n=t.readString();e.setTotp(n);break;default:t.skipField();break}}return e},proto.user.DeleteRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.user.DeleteRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.user.DeleteRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getPwd(),r.length>0&&t.writeString(1,r),r=e.getTotp(),r.length>0&&t.writeString(2,r)},proto.user.DeleteRequest.prototype.getPwd=function(){return n.Message.getFieldWithDefault(this,1,"")},proto.user.DeleteRequest.prototype.setPwd=function(e){return n.Message.setProto3StringField(this,1,e)},proto.user.DeleteRequest.prototype.getTotp=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.user.DeleteRequest.prototype.setTotp=function(e){return n.Message.setProto3StringField(this,2,e)},n.Message.GENERATE_TO_OBJECT&&(proto.user.TotpRequest.prototype.toObject=function(e){return proto.user.TotpRequest.toObject(e,this)},proto.user.TotpRequest.toObject=function(e,t){var r={action:n.Message.getFieldWithDefault(t,1,0),pwd:n.Message.getFieldWithDefault(t,2,""),totp:n.Message.getFieldWithDefault(t,3,"")};return e&&(r.$jspbMessageInstance=t),r}),proto.user.TotpRequest.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.user.TotpRequest;return proto.user.TotpRequest.deserializeBinaryFromReader(r,t)},proto.user.TotpRequest.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){case 1:var n=t.readEnum();e.setAction(n);break;case 2:n=t.readString();e.setPwd(n);break;case 3:n=t.readString();e.setTotp(n);break;default:t.skipField();break}}return e},proto.user.TotpRequest.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.user.TotpRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.user.TotpRequest.serializeBinaryToWriter=function(e,t){var r=void 0;r=e.getAction(),0!==r&&t.writeEnum(1,r),r=e.getPwd(),r.length>0&&t.writeString(2,r),r=e.getTotp(),r.length>0&&t.writeString(3,r)},proto.user.TotpRequest.actions={ENABLE:0,DISABLE:1},proto.user.TotpRequest.prototype.getAction=function(){return n.Message.getFieldWithDefault(this,1,0)},proto.user.TotpRequest.prototype.setAction=function(e){return n.Message.setProto3EnumField(this,1,e)},proto.user.TotpRequest.prototype.getPwd=function(){return n.Message.getFieldWithDefault(this,2,"")},proto.user.TotpRequest.prototype.setPwd=function(e){return n.Message.setProto3StringField(this,2,e)},proto.user.TotpRequest.prototype.getTotp=function(){return n.Message.getFieldWithDefault(this,3,"")},proto.user.TotpRequest.prototype.setTotp=function(e){return n.Message.setProto3StringField(this,3,e)},n.Message.GENERATE_TO_OBJECT&&(proto.user.Empty.prototype.toObject=function(e){return proto.user.Empty.toObject(e,this)},proto.user.Empty.toObject=function(e,t){var r={};return e&&(r.$jspbMessageInstance=t),r}),proto.user.Empty.deserializeBinary=function(e){var t=new n.BinaryReader(e),r=new proto.user.Empty;return proto.user.Empty.deserializeBinaryFromReader(r,t)},proto.user.Empty.deserializeBinaryFromReader=function(e,t){while(t.nextField()){if(t.isEndGroup())break;var r=t.getFieldNumber();switch(r){default:t.skipField();break}}return e},proto.user.Empty.prototype.serializeBinary=function(){var e=new n.BinaryWriter;return proto.user.Empty.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.user.Empty.serializeBinaryToWriter=function(e,t){},o.object.extend(t,proto.user)},ac83:function(e,t,r){},b4e2:function(e,t,r){"use strict";r("ac83")},bef9:function(e,t,r){"use strict";r("373b")},c652:function(e,t,r){e.exports=r.p+"img/logo.theme-dark.66f21e47.png"},cd49:function(e,t,r){"use strict";r.r(t),r.d(t,"SignOn",(function(){return j})),r.d(t,"RauthService",(function(){return he})),r.d(t,"include",(function(){return Ne}));r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),o={class:"container"},s={class:"card shadowed"};function i(e,t,r,i,a,u){var l=Object(n["s"])("warning"),c=Object(n["s"])("banner"),p=Object(n["s"])("sign-on"),d=Object(n["s"])("options");return Object(n["n"])(),Object(n["e"])("div",o,[e.warning?(Object(n["n"])(),Object(n["c"])(l,Object(n["j"])({key:0,class:"warning-message"},e.warning,{onClose:t[0]||(t[0]=function(t){return e.quitWarning(e.index)})}),null,16)):Object(n["d"])("",!0),Object(n["f"])("div",s,[Object(n["h"])(c,{version:"Alpha",title:e.bannerTitle,icon:"logo.".concat(e.theme,".png")},null,8,["title","icon"]),Object(n["h"])(p,{title:e.submitTitle,loading:e.fetching,email:e.showEmailField,username:e.showUsernameField,password:e.showPasswordField,totp:e.showTotpField,"disable-errors":!e.isSignup,onSubmit:e.onSubmit},null,8,["title","loading","email","username","password","totp","disable-errors","onSubmit"]),e.showOptions?(Object(n["n"])(),Object(n["c"])(d,Object(n["l"])(Object(n["j"])({key:0},e.optionsProps)),null,16)):Object(n["d"])("",!0)])])}var a=r("ade3"),u=r("1da1"),l=(r("96cf"),r("ac1f"),r("00b4"),r("466d"),r("d3b7"),r("159b"),r("1276"),r("5319"),{key:2,class:"center-content"});function c(e,t,r,o,s,i){var a=Object(n["s"])("regular-field"),u=Object(n["s"])("discret-field"),c=Object(n["s"])("submit-button");return Object(n["n"])(),Object(n["e"])("div",null,[e.email?(Object(n["n"])(),Object(n["c"])(a,{key:0,class:Object(n["k"])(["field",{separator:!e.emailErrorMessage}]),placeholder:e.usernameFieldPlaceholder,error:e.emailErrorMessage,onInput:t[0]||(t[0]=function(t){return e.onInput(t,e.FIELD_USERNAME)}),large:""},null,8,["class","placeholder","error"])):Object(n["d"])("",!0),e.password?(Object(n["n"])(),Object(n["c"])(a,{key:1,class:Object(n["k"])(["field separator",{separator:!e.passwordErrorMessage}]),placeholder:"Password",type:"password",ref:e.FIELD_PASSWORD,error:e.passwordErrorMessage,onInput:t[1]||(t[1]=function(t){return e.onInput(t,e.FIELD_PASSWORD)}),large:""},null,8,["class","error"])):Object(n["d"])("",!0),e.totp?(Object(n["n"])(),Object(n["e"])("div",l,[Object(n["h"])(u,{lenght:e.TOTP_LENGTH,class:"tight separator larger",placeholder:"One time password",onInput:t[2]||(t[2]=function(t){return e.onInput(t,e.FIELD_TOTP)})},null,8,["lenght"])])):Object(n["d"])("",!0),Object(n["h"])(c,{disabled:!e.isValid,loading:e.loading,onSubmit:t[3]||(t[3]=function(t){return e.onSubmit()}),large:""},{default:Object(n["y"])((function(){return[Object(n["g"])(Object(n["t"])(e.title),1)]})),_:1},8,["disabled","loading"])])}r("bc01"),r("25f0"),r("b64b");var p,d,h="username",f="password",g="totp",m=6,b="submit",y=(p={},Object(a["a"])(p,h,/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,63}$/),Object(a["a"])(p,f,/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/),p),R=(d={},Object(a["a"])(d,h,"Invalid email address."),Object(a["a"])(d,f,"A secure password must include at least one upper and lowercase letters, as well as numbers and special characters."),d),O=Object(n["i"])({name:"SignOn",emits:[b],props:{title:String,totp:Boolean,username:{type:Boolean,default:!0},email:{type:Boolean,default:!0},password:{type:Boolean,default:!0},loading:Boolean,disableErrors:Boolean},setup:function(){return{FIELD_USERNAME:h,FIELD_PASSWORD:f,FIELD_TOTP:g,TOTP_LENGTH:m}},data:function(){var e={};return e[h]=!this.username||!this.email,e[f]=!this.password,e[g]=!this.totp,{isValid:!1,fieldsStatus:e,fieldsValues:{}}},computed:{usernameFieldPlaceholder:function(){return this.email&&this.username?"Username or email":this.username?"Username":this.email?"Email":""},emailErrorMessage:function(){return this.disableErrors||!this.fieldsValues[h]||this.fieldsStatus[h]?"":R[h]},passwordErrorMessage:function(){return this.disableErrors||!this.fieldsValues[f]||this.fieldsStatus[f]?"":R[f]}},methods:{hash:function(e){for(var t=0,r=0;r<e.length;r++)t=Math.imul(31,t)+e.charCodeAt(r)|0;return t.toString(32)},validateEmail:function(e){this.fieldsStatus[h]=!!e.length&&(this.username||y[h].test(e))},validatePassword:function(e){this.fieldsStatus[f]=!!e.length&&y[f].test(e)},validateTotp:function(e){this.fieldsStatus[g]=e.length==m},onInput:function(e,t){var r,n=this;this.fieldsValues[t]=e;var o=(r={},Object(a["a"])(r,h,this.validateEmail),Object(a["a"])(r,f,this.validatePassword),Object(a["a"])(r,g,this.validateTotp),r);o[t](e),this.isValid=!Object.keys(this.fieldsStatus).some((function(e){return!n.fieldsStatus[e]}))},onSubmit:function(){var e=this;if(this.isValid){var t={};Object.keys(this.fieldsValues).forEach((function(r){var n=e.fieldsValues[r];r==f&&(n=e.hash(n)),t[r]=n})),this.$emit(b,t)}}}}),v=(r("bef9"),r("6b0d")),w=r.n(v);const E=w()(O,[["render",c],["__scopeId","data-v-702d94dc"]]);var j=E,S=["src"];function T(e,t,o,s,i,a){return Object(n["n"])(),Object(n["e"])("div",null,[Object(n["f"])("img",{src:r("1771")("./".concat(e.icon))},null,8,S),Object(n["f"])("span",null,[Object(n["g"])(Object(n["t"])(e.title),1),Object(n["f"])("small",null,Object(n["t"])(e.version),1)])])}var M=Object(n["i"])({name:"Banner",props:{title:String,version:String,icon:String}});r("529f");const q=w()(M,[["render",T],["__scopeId","data-v-24581798"]]);var B=q,_=["href"],F={key:0,class:"separator"},D=["href"];function k(e,t,r,o,s,i){return Object(n["n"])(),Object(n["e"])("div",null,[Object(n["f"])("a",{href:e.secondaryHref},Object(n["t"])(e.secondary),9,_),e.hasBothOptions?(Object(n["n"])(),Object(n["e"])("span",F,"|")):Object(n["d"])("",!0),Object(n["f"])("a",{class:"primary",href:e.primaryHref},Object(n["t"])(e.primary),9,D)])}var I=Object(n["i"])({name:"Options",props:{primary:String,secondary:String,primaryHref:{type:String,default:"#"},secondaryHref:{type:String,default:"#"}},computed:{hasBothOptions:function(){return!!this.primary&&!!this.secondary}}});r("9dcf");const L=w()(I,[["render",k],["__scopeId","data-v-416fa95f"]]);var N=L,z=function(e){return Object(n["p"])("data-v-782d98f9"),e=e(),Object(n["o"])(),e},P={class:"warning"},W=z((function(){return Object(n["f"])("div",{class:"flag"},null,-1)})),A={class:"content"},x={class:"text"},C={key:0},U={key:1},G=z((function(){return Object(n["f"])("span",{class:"space-between"},null,-1)}));function V(e,t,r,o,s,i){return Object(n["n"])(),Object(n["e"])("div",P,[W,Object(n["f"])("div",A,[Object(n["f"])("div",x,[e.title?(Object(n["n"])(),Object(n["e"])("span",C,Object(n["t"])(e.title),1)):Object(n["d"])("",!0),e.text?(Object(n["n"])(),Object(n["e"])("p",U,Object(n["t"])(e.text),1)):Object(n["d"])("",!0)]),G,Object(n["f"])("button",{class:"bx bx-x",onClick:t[0]||(t[0]=function(){return e.onCloseClicked&&e.onCloseClicked.apply(e,arguments)})})])])}r("a9e3"),r("b65f"),r("99af");var $="close",H=Object(n["i"])({name:"Warning",emits:[$],props:{title:String,text:String,color:{type:String,default:"var(--color-accent)"},alpha:{type:Number,default:8}},computed:{backgroundColor:function(){var e=Math.trunc(2.55*this.alpha).toString(16);return"".concat(this.color).concat(e)}},methods:{onCloseClicked:function(){this.$emit($)}}}),J=function(){Object(n["u"])((function(e){return{"01936270":e.color,"4f66dbfa":e.backgroundColor}}))},Y=H.setup;H.setup=Y?function(e,t){return J(),Y(e,t)}:J;var Z=H;r("b4e2");const K=w()(Z,[["render",V],["__scopeId","data-v-782d98f9"]]);var X,Q=K,ee=r("d4ec"),te=r("bee2"),re=r("4f18"),ne=r("a8a1"),oe=function(){function e(t,r,n){Object(ee["a"])(this,e),this.methodInfoSignup=new re["MethodDescriptor"]("/user.User/Signup",re["MethodType"].UNARY,ne["SignupRequest"],ne["Empty"],(function(e){return e.serializeBinary()}),ne["Empty"].deserializeBinary),this.methodInfoReset=new re["MethodDescriptor"]("/user.User/Reset",re["MethodType"].UNARY,ne["ResetRequest"],ne["Empty"],(function(e){return e.serializeBinary()}),ne["Empty"].deserializeBinary),this.methodInfoDelete=new re["MethodDescriptor"]("/user.User/Delete",re["MethodType"].UNARY,ne["DeleteRequest"],ne["Empty"],(function(e){return e.serializeBinary()}),ne["Empty"].deserializeBinary),this.methodInfoTotp=new re["MethodDescriptor"]("/user.User/Totp",re["MethodType"].UNARY,ne["TotpRequest"],ne["Empty"],(function(e){return e.serializeBinary()}),ne["Empty"].deserializeBinary),n||(n={}),r||(r={}),n["format"]="text",this.client_=new re["GrpcWebClientBase"](n),this.hostname_=t,this.credentials_=r,this.options_=n}return Object(te["a"])(e,[{key:"signup",value:function(e,t,r){return void 0!==r?this.client_.rpcCall(this.hostname_+"/user.User/Signup",e,t||{},this.methodInfoSignup,r):this.client_.unaryCall(this.hostname_+"/user.User/Signup",e,t||{},this.methodInfoSignup)}},{key:"reset",value:function(e,t,r){return void 0!==r?this.client_.rpcCall(this.hostname_+"/user.User/Reset",e,t||{},this.methodInfoReset,r):this.client_.unaryCall(this.hostname_+"/user.User/Reset",e,t||{},this.methodInfoReset)}},{key:"delete",value:function(e,t,r){return void 0!==r?this.client_.rpcCall(this.hostname_+"/user.User/Delete",e,t||{},this.methodInfoDelete,r):this.client_.unaryCall(this.hostname_+"/user.User/Delete",e,t||{},this.methodInfoDelete)}},{key:"totp",value:function(e,t,r){return void 0!==r?this.client_.rpcCall(this.hostname_+"/user.User/Totp",e,t||{},this.methodInfoTotp,r):this.client_.unaryCall(this.hostname_+"/user.User/Totp",e,t||{},this.methodInfoTotp)}}]),e}(),se=r("9cc6"),ie=function(){function e(t,r,n){Object(ee["a"])(this,e),this.methodInfoLogin=new re["MethodDescriptor"]("/session.Session/Login",re["MethodType"].UNARY,se["LoginRequest"],se["Empty"],(function(e){return e.serializeBinary()}),se["Empty"].deserializeBinary),this.methodInfoLogout=new re["MethodDescriptor"]("/session.Session/Logout",re["MethodType"].UNARY,se["Empty"],se["Empty"],(function(e){return e.serializeBinary()}),se["Empty"].deserializeBinary),n||(n={}),r||(r={}),n["format"]="text",this.client_=new re["GrpcWebClientBase"](n),this.hostname_=t,this.credentials_=r,this.options_=n}return Object(te["a"])(e,[{key:"login",value:function(e,t,r){return void 0!==r?this.client_.rpcCall(this.hostname_+"/session.Session/Login",e,t||{},this.methodInfoLogin,r):this.client_.unaryCall(this.hostname_+"/session.Session/Login",e,t||{},this.methodInfoLogin)}},{key:"logout",value:function(e,t,r){return void 0!==r?this.client_.rpcCall(this.hostname_+"/session.Session/Logout",e,t||{},this.methodInfoLogout,r):this.client_.unaryCall(this.hostname_+"/session.Session/Logout",e,t||{},this.methodInfoLogout)}}]),e}();(function(e){e["ERR_UNKNOWN"]="E001",e["ERR_NOT_FOUND"]="E002",e["ERR_NOT_AVAILABLE"]="E003",e["ERR_UNAUTHORIZED"]="E004",e["ERR_INVALID_TOKEN"]="E005",e["ERR_INVALID_FORMAT"]="E006",e["ERR_INVALID_HEADER"]="E007",e["ERR_WRONG_CREDENTIALS"]="E008",e["ERR_REGEX_NOT_MATCH"]="E009"})(X||(X={}));var ae,ue,le,ce,pe,de=function(){function e(t,r){var n=this;Object(ee["a"])(this,e),this.handleResponse=function(e,t){e||n.handler.onResponseSuccess(t)},this.handleResponseStatus=function(e){e.code!==re["StatusCode"].OK&&n.handler.onResponseError(e.details)},this.handleResponseMetadata=function(e){e&&n.handler.onResponseMetadata(e)},this.userClient=new oe(t,null,null),this.sessionClient=new ie(t,null,null),this.handler=r,this.handleResponse=this.handleResponse.bind(this),this.handleResponseStatus=this.handleResponseStatus.bind(this),this.handleResponseMetadata=this.handleResponseMetadata.bind(this)}return Object(te["a"])(e,[{key:"signup",value:function(e,t,r){var n=new ne["SignupRequest"];n.setEmail(e),n.setPwd(t);var o=this.userClient.signup(n,r,this.handleResponse);o.on("status",this.handleResponseStatus),o.on("metadata",this.handleResponseMetadata)}},{key:"login",value:function(e,t,r,n){var o=new se["LoginRequest"];o.setIdent(e),o.setPwd(t),o.setTotp(r);var s=this.sessionClient.login(o,n,this.handleResponse);s.on("status",this.handleResponseStatus),s.on("metadata",this.handleResponseMetadata)}},{key:"reset",value:function(e,t,r,n){var o=new ne["ResetRequest"];o.setEmail(e),o.setTotp(r),o.setPwd(t);var s=this.userClient.reset(o,n,this.handleResponse);s.on("status",this.handleResponseStatus),s.on("metadata",this.handleResponseMetadata)}}]),e}(),he=de,fe=/^\/signup$/,ge=/^\/$|\/login$/,me=/^\/reset$/,be=/\?\w.*/,ye="/signup",Re="/login",Oe="/reset",ve=(ae={},Object(a["a"])(ae,ye,"Sign up on Alvidir"),Object(a["a"])(ae,Re,"Log in Alvidir"),Object(a["a"])(ae,Oe,"Recover account"),ae),we=(ue={},Object(a["a"])(ue,ye,"Sign up"),Object(a["a"])(ue,Re,"Log in"),Object(a["a"])(ue,Oe,"Reset"),ue),Ee=(null!==(le=window.location.href.match(be))&&void 0!==le?le:[""])[0],je=(ce={},Object(a["a"])(ce,ye,{secondary:"Already have an account? Log in!",secondaryHref:"".concat(Re).concat(Ee)}),Object(a["a"])(ce,Re,{primary:ve[ye],primaryHref:"".concat(ye).concat(Ee),secondary:"Forgot password?",secondaryHref:"".concat(Oe).concat(Ee)}),Object(a["a"])(ce,Oe,{secondary:"Return to the log in page",secondaryHref:"".concat(Re).concat(Ee)}),ce),Se=(pe={},Object(a["a"])(pe,X.ERR_UNKNOWN,{title:"Something bad did happen",text:"We could not proceed with your request, please try again.",color:"var(--color-red)"}),Object(a["a"])(pe,X.ERR_NOT_FOUND,{title:"Forbidden",text:"You do not have permissions to execute this action. Make sure you are properly authenticated.",color:"var(--color-red)"}),Object(a["a"])(pe,X.ERR_NOT_AVAILABLE,{title:"Verification required",text:"We just sent to you a verification email. Use the link provided there to complete the action."}),Object(a["a"])(pe,X.ERR_UNAUTHORIZED,{title:"2FA required",text:"We need you to provide the 6-code in order to proceed with your request."}),Object(a["a"])(pe,X.ERR_INVALID_TOKEN,{title:"Forbidden",text:"You do not have permissions to execute this action. Make sure you are properly authenticated.",color:"var(--color-red)"}),Object(a["a"])(pe,X.ERR_INVALID_FORMAT,{title:"Invalid format",text:"Some of the credentials you just provided do not have the expected format. Make sure you wrote them properly.",color:"var(--color-red)"}),Object(a["a"])(pe,X.ERR_INVALID_HEADER,{title:"Forbidden",text:"You do not have permissions to execute this action. Make sure you are properly authenticated.",color:"var(--color-red)"}),Object(a["a"])(pe,X.ERR_WRONG_CREDENTIALS,{title:"Invalid username or password",text:"We could not identify you. Make sure all your credentials are well written.",color:"var(--color-red)"}),pe);r("498a");function Te(e,t,r,n){var o="";if(r){var s=new Date;s.setTime(s.getTime()+r),o="; expires="+s.toUTCString()}var i=n?"; path=".concat(n):"";document.cookie="".concat(e,"=").concat(t||"").concat(o).concat(i)}var Me="theme-light",qe="theme-dark",Be=Object(n["i"])({name:"App",components:{Banner:B,SignOn:j,Options:N,Warning:Q},data:function(){return{theme:Me,fetching:!1,disableEmail:!1,disablePassword:!1,disableTotp:!0,rauthService:new he("http://auth.alvidir.com:8080/rpc",this),warning:void 0}},created:function(){this.token&&fe.test(window.location.pathname)&&this.onSubmit({})},computed:{token:function(){var e;if(Ee){var t={};return null===(e=Ee.match(/\w=\w*/))||void 0===e||e.forEach((function(e){var r=e.split("=");t[r[0]]=r[1]})),t["t"]}},redirect:function(){var e;if(Ee){var t={};return null===(e=Ee.match(/\w=\w*/))||void 0===e||e.forEach((function(e){var r=e.split("=");t[r[0]]=r[1]})),t["r"]}},isSignup:function(){return fe.test(window.location.pathname)},bannerTitle:function(){var e,t=window.location.pathname;return this.token&&me.test(t)?ve[t]:null!==(e=ve[t])&&void 0!==e?e:ve[Re]},submitTitle:function(){var e;return null!==(e=we[window.location.pathname])&&void 0!==e?e:we[Re]},optionsProps:function(){var e;return null!==(e=je[window.location.pathname])&&void 0!==e?e:je[Re]},showOptions:function(){var e=window.location.pathname;return this.disableTotp&&!this.fetching&&(fe.test(e)||ge.test(e)||me.test(e))},showEmailField:function(){var e=window.location.pathname;return this.disableTotp&&!this.disableEmail&&(fe.test(e)||ge.test(e)||me.test(e)&&!this.token)},showUsernameField:function(){return!this.disableEmail&&ge.test(window.location.pathname)},showPasswordField:function(){var e=window.location.pathname;return this.disableTotp&&!this.disablePassword&&(fe.test(e)||ge.test(e)||me.test(e)&&!!this.token)},showTotpField:function(){return!this.disableTotp}},methods:{onSubmit:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function r(){var n,o,s,i,u,l,c,p,d,m,b;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.fetching=!0,u=null!==(n=e[h])&&void 0!==n?n:void 0,l=null!==(o=e[f])&&void 0!==o?o:void 0,c=null!==(s=e[g])&&void 0!==s?s:void 0,p={},t.token&&(d="authorization",p[d]=t.token),i={},Object(a["a"])(i,ye,(function(){return t.rauthService.signup(u,l,p)})),Object(a["a"])(i,Re,(function(){return t.rauthService.login(u,l,c,p)})),Object(a["a"])(i,Oe,(function(){return t.rauthService.reset(u,l,c,p)})),m=i,b=window.location.pathname,ge.test(b)&&(b=Re),m[b]();case 10:case"end":return r.stop()}}),r)})))()},performRedirect:function(){var e,t=null!==(e=this.redirect)&&void 0!==e?e:"http://google.com";window.location.replace(t)},onResponseError:function(e){this.fetching=!1,e!=X.ERR_UNAUTHORIZED?(this.warning=Se[e],this.warning||(this.warning=Se[X.ERR_UNKNOWN],this.warning&&(this.warning.text=e))):this.disableTotp=!1},onResponseSuccess:function(e){this.fetching=!1;var t=window.location.pathname;me.test(t)?window.location.href=Re:this.performRedirect()},onResponseMetadata:function(e){var t="authorization";if(e[t]){var r="alvidir::session::token";Te(r,e[t])}},quitWarning:function(){this.warning=void 0},switchTheme:function(){var e=this.theme,t=qe;this.theme===qe&&(this.theme=qe,t=Me),document.getElementsByTagName("body")[0].classList.replace(e,t)}},mounted:function(){window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(document.getElementsByTagName("body")[0].classList.add("theme-dark"),this.theme=qe):(document.getElementsByTagName("body")[0].classList.add("theme-light"),this.theme=Me)}});r("3a80");const _e=w()(Be,[["render",i]]);var Fe=_e,De=r("beb1"),ke=r("4557"),Ie=Object(n["b"])(Fe);Object(De["a"])(Ie),Object(ke["a"])(Ie),Ie.mount("#app");var Le="sign-on";function Ne(e){e.component(Le,j)}},e2e7:function(e,t,r){}});
//# sourceMappingURL=app.0f3b5022.js.map